{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback } from 'react';\nimport useForm from './useForm';\nimport useFormSubmission from './useFormSubmission';\n\n/**\r\n * Hook específico para o formulário de orçamento/contato\r\n */\nconst useBudgetForm = () => {\n  _s();\n  // Valores iniciais do formulário\n  const initialValues = {\n    name: '',\n    email: '',\n    phone: '',\n    company: '',\n    position: '',\n    comments: '',\n    budget: '',\n    timeline: '',\n    interestedIn: []\n  };\n\n  // Regras de validação\n  const validationRules = {\n    name: {\n      required: 'Nome é obrigatório',\n      minLength: 2,\n      custom: value => {\n        if (value && value.trim().length < 2) {\n          return 'Nome deve ter pelo menos 2 caracteres';\n        }\n        return '';\n      }\n    },\n    email: {\n      required: 'Email é obrigatório',\n      email: true\n    },\n    phone: {\n      required: 'Telefone é obrigatório',\n      phone: true\n    },\n    company: {\n      minLength: 2,\n      custom: value => {\n        if (value && value.trim().length < 2) {\n          return 'Nome da empresa deve ter pelo menos 2 caracteres';\n        }\n        return '';\n      }\n    },\n    comments: {\n      maxLength: 600,\n      custom: value => {\n        if (value && value.length > 600) {\n          return 'Comentários não podem exceder 600 caracteres';\n        }\n        return '';\n      }\n    }\n  };\n\n  // Hook para envio de formulário\n  const {\n    submitForm\n  } = useFormSubmission();\n\n  // Função para submeter o formulário\n  const handleSubmit = useCallback(async formData => {\n    try {\n      console.log('Dados do formulário de orçamento:', formData);\n\n      // Configuração dos serviços de envio\n      const submissionConfig = {\n        // Webhook para Zapier/Make.com (substitua pela sua URL)\n        webhook: {\n          url: process.env.REACT_APP_WEBHOOK_URL || 'https://hooks.zapier.com/hooks/catch/YOUR_WEBHOOK_ID/'\n        },\n        // Email via EmailJS (configure suas credenciais)\n        email: {\n          service: 'emailjs',\n          serviceId: process.env.REACT_APP_EMAILJS_SERVICE_ID || 'your_service_id',\n          templateId: process.env.REACT_APP_EMAILJS_TEMPLATE_ID || 'your_template_id',\n          publicKey: process.env.REACT_APP_EMAILJS_PUBLIC_KEY || 'your_public_key'\n        },\n        // Google Sheets (via webhook do Google Apps Script)\n        googleSheets: {\n          webhookUrl: process.env.REACT_APP_GOOGLE_SHEETS_WEBHOOK || 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec'\n        }\n      };\n\n      // Enviar formulário\n      const result = await submitForm(formData, submissionConfig);\n      console.log('Resultado do envio:', result);\n\n      // Sucesso\n      return result;\n    } catch (error) {\n      console.error('Erro ao enviar solicitação de orçamento:', error);\n      throw new Error('Erro ao enviar solicitação. Tente novamente.');\n    }\n  }, [submitForm]);\n\n  // Usar o hook base\n  const form = useForm(initialValues, handleSubmit, validationRules);\n\n  // Funções específicas para o formulário de orçamento\n  const formatPhone = useCallback(value => {\n    // Remove tudo que não é número\n    const numbers = value.replace(/\\D/g, '');\n\n    // Aplica a máscara (XX) XXXXX-XXXX ou (XX) XXXX-XXXX\n    if (numbers.length <= 2) {\n      return numbers;\n    } else if (numbers.length <= 6) {\n      return `(${numbers.slice(0, 2)}) ${numbers.slice(2)}`;\n    } else if (numbers.length <= 10) {\n      return `(${numbers.slice(0, 2)}) ${numbers.slice(2, 6)}-${numbers.slice(6)}`;\n    } else {\n      return `(${numbers.slice(0, 2)}) ${numbers.slice(2, 7)}-${numbers.slice(7, 11)}`;\n    }\n  }, []);\n\n  // Handler customizado para o telefone com formatação\n  const handlePhoneChange = useCallback(e => {\n    const formattedValue = formatPhone(e.target.value);\n    const syntheticEvent = {\n      ...e,\n      target: {\n        ...e.target,\n        value: formattedValue\n      }\n    };\n    form.handleChange(syntheticEvent);\n  }, [formatPhone, form.handleChange]);\n\n  // Função para adicionar/remover interesses\n  const toggleInterest = useCallback(interest => {\n    const currentInterests = form.formData.interestedIn || [];\n    const newInterests = currentInterests.includes(interest) ? currentInterests.filter(i => i !== interest) : [...currentInterests, interest];\n    const syntheticEvent = {\n      target: {\n        name: 'interestedIn',\n        value: newInterests\n      }\n    };\n    form.handleChange(syntheticEvent);\n  }, [form.formData.interestedIn, form.handleChange]);\n  return {\n    ...form,\n    handlePhoneChange,\n    toggleInterest,\n    formatPhone\n  };\n};\n_s(useBudgetForm, \"eiT5DnBWnsht6RhffQWrdGkkCf0=\", false, function () {\n  return [useFormSubmission, useForm];\n});\nexport default useBudgetForm;","map":{"version":3,"names":["useCallback","useForm","useFormSubmission","useBudgetForm","_s","initialValues","name","email","phone","company","position","comments","budget","timeline","interestedIn","validationRules","required","minLength","custom","value","trim","length","maxLength","submitForm","handleSubmit","formData","console","log","submissionConfig","webhook","url","process","env","REACT_APP_WEBHOOK_URL","service","serviceId","REACT_APP_EMAILJS_SERVICE_ID","templateId","REACT_APP_EMAILJS_TEMPLATE_ID","publicKey","REACT_APP_EMAILJS_PUBLIC_KEY","googleSheets","webhookUrl","REACT_APP_GOOGLE_SHEETS_WEBHOOK","result","error","Error","form","formatPhone","numbers","replace","slice","handlePhoneChange","e","formattedValue","target","syntheticEvent","handleChange","toggleInterest","interest","currentInterests","newInterests","includes","filter","i"],"sources":["C:/Users/Doit/Desktop/azuton_lp/src/hooks/useBudgetForm.js"],"sourcesContent":["import { useCallback } from 'react';\r\nimport useForm from './useForm';\r\nimport useFormSubmission from './useFormSubmission';\r\n\r\n/**\r\n * Hook específico para o formulário de orçamento/contato\r\n */\r\nconst useBudgetForm = () => {\r\n  // Valores iniciais do formulário\r\n  const initialValues = {\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    company: '',\r\n    position: '',\r\n    comments: '',\r\n    budget: '',\r\n    timeline: '',\r\n    interestedIn: []\r\n  };\r\n\r\n  // Regras de validação\r\n  const validationRules = {\r\n    name: {\r\n      required: 'Nome é obrigatório',\r\n      minLength: 2,\r\n      custom: (value) => {\r\n        if (value && value.trim().length < 2) {\r\n          return 'Nome deve ter pelo menos 2 caracteres';\r\n        }\r\n        return '';\r\n      }\r\n    },\r\n    email: {\r\n      required: 'Email é obrigatório',\r\n      email: true\r\n    },\r\n    phone: {\r\n      required: 'Telefone é obrigatório',\r\n      phone: true\r\n    },\r\n    company: {\r\n      minLength: 2,\r\n      custom: (value) => {\r\n        if (value && value.trim().length < 2) {\r\n          return 'Nome da empresa deve ter pelo menos 2 caracteres';\r\n        }\r\n        return '';\r\n      }\r\n    },\r\n    comments: {\r\n      maxLength: 600,\r\n      custom: (value) => {\r\n        if (value && value.length > 600) {\r\n          return 'Comentários não podem exceder 600 caracteres';\r\n        }\r\n        return '';\r\n      }\r\n    }\r\n  };\r\n\r\n  // Hook para envio de formulário\r\n  const { submitForm } = useFormSubmission();\r\n\r\n  // Função para submeter o formulário\r\n  const handleSubmit = useCallback(async (formData) => {\r\n    try {\r\n      console.log('Dados do formulário de orçamento:', formData);\r\n      \r\n      // Configuração dos serviços de envio\r\n      const submissionConfig = {\r\n        // Webhook para Zapier/Make.com (substitua pela sua URL)\r\n        webhook: {\r\n          url: process.env.REACT_APP_WEBHOOK_URL || 'https://hooks.zapier.com/hooks/catch/YOUR_WEBHOOK_ID/'\r\n        },\r\n        \r\n        // Email via EmailJS (configure suas credenciais)\r\n        email: {\r\n          service: 'emailjs',\r\n          serviceId: process.env.REACT_APP_EMAILJS_SERVICE_ID || 'your_service_id',\r\n          templateId: process.env.REACT_APP_EMAILJS_TEMPLATE_ID || 'your_template_id',\r\n          publicKey: process.env.REACT_APP_EMAILJS_PUBLIC_KEY || 'your_public_key'\r\n        },\r\n        \r\n        // Google Sheets (via webhook do Google Apps Script)\r\n        googleSheets: {\r\n          webhookUrl: process.env.REACT_APP_GOOGLE_SHEETS_WEBHOOK || 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec'\r\n        }\r\n      };\r\n\r\n      // Enviar formulário\r\n      const result = await submitForm(formData, submissionConfig);\r\n      \r\n      console.log('Resultado do envio:', result);\r\n      \r\n      // Sucesso\r\n      return result;\r\n      \r\n    } catch (error) {\r\n      console.error('Erro ao enviar solicitação de orçamento:', error);\r\n      throw new Error('Erro ao enviar solicitação. Tente novamente.');\r\n    }\r\n  }, [submitForm]);\r\n\r\n  // Usar o hook base\r\n  const form = useForm(initialValues, handleSubmit, validationRules);\r\n\r\n  // Funções específicas para o formulário de orçamento\r\n  const formatPhone = useCallback((value) => {\r\n    // Remove tudo que não é número\r\n    const numbers = value.replace(/\\D/g, '');\r\n    \r\n    // Aplica a máscara (XX) XXXXX-XXXX ou (XX) XXXX-XXXX\r\n    if (numbers.length <= 2) {\r\n      return numbers;\r\n    } else if (numbers.length <= 6) {\r\n      return `(${numbers.slice(0, 2)}) ${numbers.slice(2)}`;\r\n    } else if (numbers.length <= 10) {\r\n      return `(${numbers.slice(0, 2)}) ${numbers.slice(2, 6)}-${numbers.slice(6)}`;\r\n    } else {\r\n      return `(${numbers.slice(0, 2)}) ${numbers.slice(2, 7)}-${numbers.slice(7, 11)}`;\r\n    }\r\n  }, []);\r\n\r\n  // Handler customizado para o telefone com formatação\r\n  const handlePhoneChange = useCallback((e) => {\r\n    const formattedValue = formatPhone(e.target.value);\r\n    const syntheticEvent = {\r\n      ...e,\r\n      target: {\r\n        ...e.target,\r\n        value: formattedValue\r\n      }\r\n    };\r\n    form.handleChange(syntheticEvent);\r\n  }, [formatPhone, form.handleChange]);\r\n\r\n  // Função para adicionar/remover interesses\r\n  const toggleInterest = useCallback((interest) => {\r\n    const currentInterests = form.formData.interestedIn || [];\r\n    const newInterests = currentInterests.includes(interest)\r\n      ? currentInterests.filter(i => i !== interest)\r\n      : [...currentInterests, interest];\r\n    \r\n    const syntheticEvent = {\r\n      target: {\r\n        name: 'interestedIn',\r\n        value: newInterests\r\n      }\r\n    };\r\n    form.handleChange(syntheticEvent);\r\n  }, [form.formData.interestedIn, form.handleChange]);\r\n\r\n  return {\r\n    ...form,\r\n    handlePhoneChange,\r\n    toggleInterest,\r\n    formatPhone\r\n  };\r\n};\r\n\r\nexport default useBudgetForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}